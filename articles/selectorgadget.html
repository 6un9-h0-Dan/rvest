<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SelectorGadget • rvest</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="../tidyverse.css" rel="stylesheet">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../tidyverse-2.css" rel="stylesheet">
<meta property="og:title" content="SelectorGadget">
<meta property="og:description" content="">
<meta property="og:image" content="https://rvest.tidyverse.org/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">rvest</a>
        <div class="info">
          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.5</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/selectorgadget.html">SelectorGadget</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/tidyverse/rvest">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>SelectorGadget</h1>
                        <h4 class="author">Hadley Wickham</h4>
            
            <h4 class="date">2019-11-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/rvest/blob/master/vignettes/selectorgadget.Rmd"><code>vignettes/selectorgadget.Rmd</code></a></small>
      <div class="hidden name"><code>selectorgadget.Rmd</code></div>

    </div>

    
    
<p>SelectorGadget is a JavaScript bookmarklet that allows you to interactively figure out what css selector you need to extract desired components from a page.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>To install it, open this page in your browser, and then drag the following link to your bookmark bar: <a href="javascript:(function()%7Bvar%20s=document.createElement('div');s.innerHTML='Loading...';s.style.color='black';s.style.padding='20px';s.style.position='fixed';s.style.zIndex='9999';s.style.fontSize='3.0em';s.style.border='2px%20solid%20black';s.style.right='40px';s.style.top='40px';s.setAttribute('class','selector_gadget_loading');s.style.background='white';document.body.appendChild(s);s=document.createElement('script');s.setAttribute('type','text/javascript');s.setAttribute('src','https://dv0akt2986vzh.cloudfront.net/unstable/lib/selectorgadget.js');document.body.appendChild(s);%7D)();">SelectorGadget</a>.</p>
</div>
<div id="use" class="section level2">
<h2 class="hasAnchor">
<a href="#use" class="anchor"></a>Use</h2>
<p>To use it, open the page</p>
<ol style="list-style-type: decimal">
<li><p>Click on the element you want to select. SelectorGadget will make a first guess at what css selector you want. It’s likely to be bad since it only has one example to learn from, but it’s a start. Elements that match the selector will be highlighted in yellow.</p></li>
<li><p>Click on elements that shouldn’t be selected. They will turn red. Click on elements that <em>should</em> be selected. They will turn green.</p></li>
<li><p>Iterate until only the elements you want are selected. SelectorGadget isn’t perfect and sometimes won’t be able to find a useful css selector. Sometimes starting from a different element helps.</p></li>
</ol>
<p>For example, imagine we want to find the actors listed on an IMDB movie page, e.g. <a href="http://www.imdb.com/title/tt1490017/">The Lego Movie</a>.</p>
<ol style="list-style-type: decimal">
<li>
<p>Navigate to the page and scroll to the actors list.</p>
<p><img src="selectorgadget-1.png" width="500" height="535"></p>
</li>
<li>
<p>Click on the SelectorGadget link in the bookmarks. The SelectorGadget console will appear at the bottom of the screen, and element currently under the mouse will be highlighted in orange.</p>
<p><img src="selectorgadget-2.png" width="500" height="535"></p>
</li>
<li>
<p>Click on the element you want to select (the name of an actor). The element you selected will be highlighted in green. SelectorGadget guesses which css selector you want (<code>.itemprop</code> in this case), and highlights all matches in yellow.</p>
<p><img src="selectorgadget-3.png" width="500" height="535"></p>
</li>
<li>
<p>Scroll around the document to find elements that you don’t want to match and click on them. For example, we don’t to match the title of the movie, so we click on it and it turns red. The css selector updates to <code>#titleCast .itemprop</code>.</p>
<p><img src="selectorgadget-4.png" width="500" height="535"><img src="selectorgadget-5.png" width="500" height="535"></p>
</li>
</ol>
<p>Once we’ve determined the css selector, we can use it in R to extract the values we want:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rvest)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co">#&gt; Loading required package: xml2</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3">lego_url &lt;-<span class="st"> "http://www.imdb.com/title/tt1490017/"</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">html &lt;-<span class="st"> </span><span class="kw">read_html</span>(lego_url)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5">cast &lt;-<span class="st"> </span><span class="kw"><a href="../reference/html_nodes.html">html_nodes</a></span>(html, <span class="st">".primary_photo+ td a"</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(cast)</a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="co">#&gt; [1] 15</span></a>
<a class="sourceLine" id="cb1-8" data-line-number="8">cast[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb1-9" data-line-number="9"><span class="co">#&gt; {xml_nodeset (2)}</span></a>
<a class="sourceLine" id="cb1-10" data-line-number="10"><span class="co">#&gt; [1] &lt;a href="/name/nm0004715/?ref_=tt_cl_t1"&gt; Will Arnett\n&lt;/a&gt;</span></a>
<a class="sourceLine" id="cb1-11" data-line-number="11"><span class="co">#&gt; [2] &lt;a href="/name/nm0006969/?ref_=tt_cl_t2"&gt; Elizabeth Banks\n&lt;/a&gt;</span></a></code></pre></div>
<p>Finally, we can extract the text from the selected HTML nodes.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="../reference/html_text.html">html_text</a></span>(cast, <span class="dt">trim =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt;  [1] "Will Arnett"     "Elizabeth Banks" "Craig Berry"    </span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co">#&gt;  [4] "Alison Brie"     "David Burrows"   "Anthony Daniels"</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt;  [7] "Charlie Day"     "Amanda Farinos"  "Keith Ferguson" </span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; [10] "Will Ferrell"    "Will Forte"      "Dave Franco"    </span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; [13] "Morgan Freeman"  "Todd Hansen"     "Jonah Hill"</span></a></code></pre></div>
<p>Let’s say we’re also interested in extracting the links to the actors’ pages. We can access html attributes of the selected nodes using <code><a href="../reference/html_text.html">html_attrs()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">cast_attrs &lt;-<span class="st"> </span><span class="kw"><a href="../reference/html_text.html">html_attrs</a></span>(cast)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(cast_attrs)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; [1] 15</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5">cast_attrs[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;                             href </span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; "/name/nm0004715/?ref_=tt_cl_t1" </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;                             href </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; "/name/nm0006969/?ref_=tt_cl_t2"</span></a></code></pre></div>
<p>As we can see there’s only one attribute called <code>href</code> which contains relative url to the actor’s page. We can extract it using <code><a href="../reference/html_text.html">html_attr()</a></code>, indicating the name of the attribute of interest. Relative urls can be turned to absolute urls using <code>url_absolute()</code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">cast_rel_urls &lt;-<span class="st"> </span><span class="kw"><a href="../reference/html_text.html">html_attr</a></span>(cast, <span class="st">"href"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/length.html">length</a></span>(cast_rel_urls)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; [1] 15</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4">cast_rel_urls[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; [1] "/name/nm0004715/?ref_=tt_cl_t1" "/name/nm0006969/?ref_=tt_cl_t2"</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"></a>
<a class="sourceLine" id="cb4-7" data-line-number="7">cast_abs_urls &lt;-<span class="st"> </span><span class="kw"><a href="../reference/html_text.html">html_attr</a></span>(cast, <span class="st">"href"</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="st">  </span><span class="kw">url_absolute</span>(lego_url)</a>
<a class="sourceLine" id="cb4-9" data-line-number="9">cast_abs_urls[<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</a>
<a class="sourceLine" id="cb4-10" data-line-number="10"><span class="co">#&gt; [1] "http://www.imdb.com/name/nm0004715/?ref_=tt_cl_t1"</span></a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="co">#&gt; [2] "http://www.imdb.com/name/nm0006969/?ref_=tt_cl_t2"</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#installation">Installation</a></li>
      <li><a href="#use">Use</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="tidyverse">
  <p>rvest is a part of the <strong>tidyverse</strong>, an ecosystem of packages designed with common APIs and a shared philosophy. Learn more at <a href="https://tidyverse.org">tidyverse.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href="http://hadley.nz">Hadley Wickham</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a>.
  </p>
</div>

      </footer>
</div>

  


  </body>
</html>
